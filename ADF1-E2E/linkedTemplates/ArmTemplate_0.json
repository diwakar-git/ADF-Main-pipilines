{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "ADF1-E2E"
		},
		"AzureBlobStorage1_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AzureBlobStorage1'"
		},
		"AzureDataLakeStorage2_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'AzureDataLakeStorage2'"
		},
		"delete2_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'delete2'"
		},
		"lametafrm for each_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lametafrm for each'"
		},
		"ls_ds_csv_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'ls_ds_csv'"
		},
		"ls_tr1_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'ls_tr1'"
		},
		"ls_tr2_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'ls_tr2'"
		},
		"ls_tr_file_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'ls_tr_file'"
		},
		"lscsvdelete_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lscsvdelete'"
		},
		"lscsvemployee_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lscsvemployee'"
		},
		"lsdelete2_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lsdelete2'"
		},
		"lsfromonprem2sql_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lsfromonprem2sql'"
		},
		"lsinputtrigger_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lsinputtrigger'"
		},
		"lsmeta_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lsmeta'"
		},
		"lsonprem2_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lsonprem2'"
		},
		"lssql2csv_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'lssql2csv'"
		},
		"ls_DS_CSV_Par_src_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'ls_DS_CSV_Par_src'"
		},
		"Ls_DS_Par_des_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Ls_DS_Par_des'"
		},
		"AzureDataLakeStorage2_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://triggeroutput1.dfs.core.windows.net/"
		},
		"delete2_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://30daysdelete.dfs.core.windows.net/"
		},
		"lametafrm for each_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://newonprem1.dfs.core.windows.net/"
		},
		"ls_ds_csv_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://ifactivity.dfs.core.windows.net/"
		},
		"ls_tr1_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://triggerinput1.dfs.core.windows.net/"
		},
		"ls_tr2_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://triggeroutput1.dfs.core.windows.net/"
		},
		"ls_tr_file_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://newonprem1.dfs.core.windows.net/"
		},
		"lscsvdelete_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://30daysdelete.dfs.core.windows.net/"
		},
		"lscsvemployee_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://storeonpremisedata1.dfs.core.windows.net/"
		},
		"lsdelete2_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://30daysdelete.dfs.core.windows.net/"
		},
		"lsfromonprem2sql_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://storeonpremisedata1.dfs.core.windows.net/"
		},
		"lsinputtrigger_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://triggerinput1.dfs.core.windows.net/"
		},
		"lsmeta_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://newonprem1.dfs.core.windows.net/"
		},
		"lsonprem2_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://newonprem1.dfs.core.windows.net/"
		},
		"lssql2csv_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://newonprem1.dfs.core.windows.net/"
		},
		"ls_DS_CSV_Par_src_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://adlsbulkupload3.dfs.core.windows.net/"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/AzureBlobStorage1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('AzureBlobStorage1_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureDataLakeStorage2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('AzureDataLakeStorage2_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('AzureDataLakeStorage2_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/delete2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('delete2_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('delete2_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lametafrm for each')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lametafrm for each_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lametafrm for each_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ls_ds_csv')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('ls_ds_csv_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('ls_ds_csv_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ls_tr1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('ls_tr1_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('ls_tr1_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ls_tr2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "custom trigger for copying all the files",
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('ls_tr2_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('ls_tr2_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ls_tr_file')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "trigger custom events when file is uploaded",
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('ls_tr_file_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('ls_tr_file_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lscsvdelete')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lscsvdelete_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lscsvdelete_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lscsvemployee')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lscsvemployee_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lscsvemployee_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lsdelete2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lsdelete2_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lsdelete2_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lsfromonprem2sql')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lsfromonprem2sql_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lsfromonprem2sql_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lsinputtrigger')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lsinputtrigger_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lsinputtrigger_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lsmeta')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lsmeta_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lsmeta_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lsonprem2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lsonprem2_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lsonprem2_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/lssql2csv')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "sp of sql to csv",
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('lssql2csv_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('lssql2csv_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/self-hosted-integrationRuntime1')]",
			"type": "Microsoft.DataFactory/factories/integrationRuntimes",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "SelfHosted",
				"typeProperties": {}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ls_DS_CSV_Par_src')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('ls_DS_CSV_Par_src_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('ls_DS_CSV_Par_src_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Ls_DS_Par_des')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('Ls_DS_Par_des_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DS_movie_csv')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_ds_csv",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": "moviesemp.csv",
						"fileSystem": "ifdata1"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/ls_ds_csv')]"
			]
		}
	]
}